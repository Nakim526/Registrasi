<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Registrasi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="Logo REFORMATIKA 23.png" type="image/x-icon">
</head>
<body>
    
    <div class="login-box">
      <p>Presensi Kehadiran</p>
      <form id="my-form" action="https://script.google.com/macros/s/AKfycbziGC-v9xSg4vhH8Fsr5bbDDUQmyp6hkWyDctWJtokQu2N4LyLPBmYTmGkKq1mvjuBs/exec" method="POST">
        <div class="user-box">
          <input required="" name="Nama" type="text">
          <label>Nama</label>
        </div>
        <div class="user-box">
          <input required="" name="Tamu" type="text">
          <label>Angkatan</label>
        </div>
        <button type="submit">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          Kirim
        </button>
      </form>
    </div>


    <script>
      window.addEventListener("load", function() {
        const form = document.getElementById('my-form');
        form.addEventListener("submit", function(e) {
          e.preventDefault();
          const data = new FormData(form);
          const action = e.target.action;
          fetch(action, {
            method: 'POST',
            body: data,
          })
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.text();
          })
          .then(() => {
            alert("Registrasi Data Berhasil Terkirim!");
          })
          .catch(error => {
            console.error('There was a problem with the fetch operation:', error);
            alert("Terjadi Kesalahan Dalam Pengiriman Data");
          });
        });
      });
    </script>
</body>
</html>